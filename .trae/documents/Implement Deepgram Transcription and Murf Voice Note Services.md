I will implement the backend services to leverage Deepgram for transcription and Murf for voice notes, enabling voice capabilities in your app.

### **1. Deepgram Transcription Service**
**File:** `backend/src/services/deepgramService.ts`
- **Purpose:** Handle secure server-side audio transcription.
- **Functionality:**
  - Create `transcribeAudio` method.
  - Connect to Deepgram API (`nova-2` model).
  - Enable smart formatting and punctuation.
  - Securely manage API keys on the server.

### **2. Murf Voice Synthesis Service**
**File:** `backend/src/services/murfService.ts`
- **Purpose:** Generate high-quality voice notes from text.
- **Functionality:**
  - Create `generateSpeech` method.
  - Connect to Murf API.
  - Support selectable voice IDs.
  - Return audio URLs for playback.

### **3. Voice MCP Tools**
**File:** `backend/src/services/voiceMCPTools.ts`
- **Purpose:** Allow the AI to use these capabilities autonomously.
- **New Tools:**
  - `transcribe_audio`: Takes audio URL/data, returns text.
  - `send_voice_note`: Takes text, generates audio via Murf, and sends it to WhatsApp/Telegram.

### **4. Update Messaging Tools**
**File:** `backend/src/services/messagingMCPTools.ts`
- **Enhancement:** Update `send_whatsapp` and `send_telegram` to support sending the audio files generated by Murf as actual voice notes (PTT) or audio attachments.

### **5. Configuration**
**File:** `backend/deploy/production.env` & `.env.example`
- Add `DEEPGRAM_API_KEY` and `MURF_API_KEY` variables.

### **Verification**
- I will verify by creating a test script that transcribes a sample audio file and generates a voice note.
- You can test by asking the bot: *"Send a voice note to John saying 'Hello'"*.